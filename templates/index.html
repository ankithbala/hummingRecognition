

<!DOCTYPE html>
<html lang="en" class="app">
  <head>
    <meta charset="utf-8" />
    <title>HR</title>
    <!--
      <meta name="description" content="app, web app, responsive, admin dashboard, admin, flat, flat ui, ui kit, off screen nav" />
      <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
      -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Humming Recognizer</title>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <style>
      .selector-for-some-widget {
      box-sizing: content-box;
      }
    </style>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="static/js/jPlayer/jplayer.flat.css" type="text/css" />
    <link rel="stylesheet" href="static/css/app.v1.css" type="text/css" />
    <!--[if lt IE 9]> <script src="js/ie/html5shiv.js"></script> <script src="js/ie/respond.min.js"></script> <script src="js/ie/excanvas.js"></script> <![endif]-->
  </head>
  <body class="">
    <section class="vbox">
      <header>
        <div class="navbar-header aside bg-info nav-xs"> <a class="btn btn-link visible-xs" data-toggle="class:nav-off-screen,open" data-target="#nav,html"> <i class="icon-list"></i> </a> <a href="/" class="navbar-brand text-lt"> <i class="icon-earphones"></i> <img src="static/images/logo.png" alt="." class="hide"> <span class="hidden-nav-xs m-l-sm">HR</span> </a> <a class="btn btn-link visible-xs" data-toggle="dropdown" data-target=".user"> <i class="icon-settings"></i> </a> </div>
        <ul class="nav navbar-nav hidden-xs">
          <li> <a href="#nav,.navbar-header" data-toggle="class:nav-xs,nav-xs" class="text-muted"> <i class="fa fa-indent text"></i> <i class="fa fa-dedent text-active"></i> </a> </li>
        </ul>
        <form class="navbar-form navbar-left input-s-lg m-t m-l-n-xs hidden-xs" role="search">
          <div class="form-group">
            <div class="input-group"> <span class="input-group-btn"> <button type="submit" class="btn btn-sm bg-white btn-icon rounded"><i class="fa fa-search"></i></button> </span> <input type="text" class="form-control input-sm no-border rounded" placeholder="Search songs, albums..."> </div>
          </div>
        </form>
        <div class="navbar-right ">
          <ul class="nav navbar-nav m-n hidden-xs nav-user user">
          </ul>
        </div>
      </header>
      <section>
        <section class="hbox stretch">
          <!-- .aside -->
          <aside class="bg-black dk nav-xs aside hidden-print" id="nav">
            <section class="vbox">
              <section class="w-f-md scrollable">
                <div class="slim-scroll" data-height="auto" data-disable-fade-out="true" data-distance="0" data-size="10px" data-railOpacity="0.2">
                  <!-- nav -->
                  <nav class="nav-primary hidden-xs">
                    <ul class="nav bg clearfix">
                      <li class="hidden-nav-xs padder m-t m-b-sm text-xs text-muted"> Humming Recognizer</li>
                      <li> <a href="/"> <i class="icon-disc icon text-success"></i> <span class="font-bold">Project</span> </a> </li>
                      <li> <a href="/genres/"> <i class="icon-music-tone-alt icon text-info"></i> <span class="font-bold">Genres</span> </a> </li>
                      <li class="m-b hidden-nav-xs"></li>
                    </ul>
                    <!--
                      <ul class="nav text-sm">
                         <li class="hidden-nav-xs padder m-t m-b-sm text-xs text-muted"> <span class="pull-right"><a href="#"><i class="icon-plus i-lg"></i></a></span> Playlist </li>
                         <li> <a href="#"> <i class="icon-music-tone icon"></i> <span>Hip-Pop</span> </a> </li>
                         <li> <a href="#"> <i class="icon-playlist icon text-success-lter"></i> <b class="badge bg-success dker pull-right">9</b> <span>Jazz</span> </a> </li>
                      </ul>
                      
                      
                      
                      -->
                  </nav>
                  <!-- / nav -->
                </div>
              </section>
            </section>
          </aside>
          <!-- /.aside -->
          <section id="content">
            <div class="jumbotron jumbotron-fluid bg-dark">
              <div class="jumbotron-background">
                <img src="https://placeimg.com/2000/1000/nature" class="blur ">
              </div>
              <div class="container text-white">
                <h1 class="display-4">Humming Recognizer <span class="musicbar animate inline m-l-sm" style="width:20px;height:20px"> <span class="bar1 a1 bg-primary lter"></span> <span class="bar2 a2 bg-info lt"></span> <span class="bar3 a3 bg-success"></span> <span class="bar4 a4 bg-warning dk"></span> <span class="bar5 a5 bg-danger dker"></span> </span></h1>
                <p class="lead">Identifies the hummed song</p>
                <hr class="my-4">
                <p>It uses Keras model with flask as web framework</p>
                <a class="btn btn-primary btn-lg" href="#" role="button">Learn more</a>
              </div>
              <!-- /.container -->
            </div>
            <!-- /.jumbotron -->
            <!--
              For IE support of object-fit add this to your document
              &lt;script src="https://cdnjs.cloudflare.com/ajax/libs/object-fit-images/3.2.4/ofi.min.js"&gt;&lt;/script&gt;
              -->
            <section class="hbox stretch">
              <section>
                <section class="vbox">
                  <section class="scrollable padder-lg w-f-md" id="bjax-target">
                    <a href="#" class="pull-right text-muted m-t-lg" data-toggle="class:fa-spin" ><i class="icon-refresh i-lg inline" id="refresh"></i></a>
                    <!--
                      <h2 class="font-thin m-b">Humming Recognizer <span class="musicbar animate inline m-l-sm" style="width:20px;height:20px"> <span class="bar1 a1 bg-primary lter"></span> <span class="bar2 a2 bg-info lt"></span> <span class="bar3 a3 bg-success"></span> <span class="bar4 a4 bg-warning dk"></span> <span class="bar5 a5 bg-danger dker"></span> </span></h2>
                      
                      -->
                    <!--
                      <div class="row">
                      
                      
                      
                         <div class="col-md-5">
                            <h3 class="font-thin">Top Songs</h3>
                            <div class="list-group bg-white list-group-lg no-bg auto"> <a href="#" class="list-group-item clearfix"> <span class="pull-right h2 text-muted m-l">1</span> <span class="pull-left thumb-sm avatar m-r"> <img src="images/a4.png" alt="..."> </span> <span class="clear"> <span>Little Town</span> <small class="text-muted clear text-ellipsis">by Chris Fox</small> </span> </a> <a href="#" class="list-group-item clearfix"> <span class="pull-right h2 text-muted m-l">2</span> <span class="pull-left thumb-sm avatar m-r"> <img src="images/a5.png" alt="..."> </span> <span class="clear"> <span>Lementum ligula vitae</span> <small class="text-muted clear text-ellipsis">by Amanda Conlan</small> </span> </a> <a href="#" class="list-group-item clearfix"> <span class="pull-right h2 text-muted m-l">3</span> <span class="pull-left thumb-sm avatar m-r"> <img src="images/a6.png" alt="..."> </span> <span class="clear"> <span>Aliquam sollicitudin venenatis</span> <small class="text-muted clear text-ellipsis">by Dan Doorack</small> </span> </a> <a href="#" class="list-group-item clearfix"> <span class="pull-right h2 text-muted m-l">4</span> <span class="pull-left thumb-sm avatar m-r"> <img src="images/a7.png" alt="..."> </span> <span class="clear"> <span>Aliquam sollicitudin venenatis ipsum</span> <small class="text-muted clear text-ellipsis">by Lauren Taylor</small> </span> </a> <a href="#" class="list-group-item clearfix"> <span class="pull-right h2 text-muted m-l">5</span> <span class="pull-left thumb-sm avatar m-r"> <img src="images/a8.png" alt="..."> </span> <span class="clear"> <span>Vestibulum ullamcorper</span> <small class="text-muted clear text-ellipsis">by Dan Doorack</small> </span> </a> </div>
                         </div>
                      
                      
                      </div>
                      <div class="row m-t-lg m-b-lg">
                         <div class="col-sm-6">
                            <div class="bg-primary wrapper-md r"> <a href="#"> <span class="h4 m-b-xs block"><i class=" icon-user-follow i-lg"></i> Login or Create account</span> <span class="text-muted">Save and share your playlist with your friends when you log in or create an account.</span> </a> </div>
                         </div>
                         <div class="col-sm-6">
                            <div class="bg-black wrapper-md r"> <a href="#"> <span class="h4 m-b-xs block"><i class="icon-cloud-download i-lg"></i> Download our app</span> <span class="text-muted">Get the apps for desktop and mobile to start listening music at anywhere and anytime.</span> </a> </div>
                         </div>
                      </div>
                      
                      
                      -->
                    <div id="res" class="alert alert-primary" role="alert" style="display: none;">
                      <h3><p id="result"><span> </span></p><h3>
                    </div>
                    <!--
                      <div class="grid-x grid-padding-x">
                        <div class="large-12 medium-12 small-12 cell">
                          <div id="single-song-player">
                      
                            <div class="bottom-container">
                              <progress class="amplitude-song-played-progress" id="song-played-progress"></progress>
                      
                              <div class="time-container">
                                <span class="current-time">
                                  <span class="amplitude-current-minutes"></span>:<span class="amplitude-current-seconds"></span>
                                </span>
                                <span class="duration">
                                  <span class="amplitude-duration-minutes"></span>:<span class="amplitude-duration-seconds"></span>
                                </span>
                              </div>
                      
                              <div class="control-container">
                                <div class="amplitude-play-pause" id="play-pause"></div>
                                <div class="meta-container">
                                  <span data-amplitude-song-info="name" class="song-name"></span>
                                  <span data-amplitude-song-info="artist"></span>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      
                      -->
                    <form method=post enctype=multipart/form-data>
                      <div class="panel-body">
                        <div class="row">
                          <div class="col-xs-6 col-md-2 col-md-offset-4">
                            <div>
                              <input type=file name=file>
                            </div>
                          </div>
                          <div class="col-xs-6 col-md-4 ">
                            <div>
                              <a href="#" class="myButton4" >
                                <div class="btn btn-default">
                                  <i class="fa fa-cloud-upload text"></i>
                                  <input type=submit value=Upload >
                                  <i class="fa fa-check text-active"></i>
                              </a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </form>
                    <br>
                    <br>
                    <div class="row">
                      <div class="col-xs-6 col-md-2 col-md-offset-3">
                        <p>
                        <div>
                          <a href="#" class="myButton" >
                            <div class="btn btn-s-md btn-dark btn-rounded" data-toggle="tooltip" data-placement="top" title="" data-original-title="Predict the song">
                              Predict
                            </div>
                          </a>
                        </div>
                        </p>
                      </div>
                      <div class="col-xs-6 col-md-2">
                        <p>
                        <div>
                          <a href="/genres/" class="myButton">
                            <div class="btn btn-s-md btn-dark btn-rounded" data-toggle="tooltip" data-placement="top" title="" data-original-title=" Play">
                              Play the song
                            </div>
                          </a>
                        </div>
                        </p>
                      </div>
                      <div class="col-xs-6 col-md-4">
                        <p>
                        <div>
                          <a href="/" class="myButton">
                            <div class="btn btn-s-md btn-dark btn-rounded" data-toggle="tooltip" data-placement="top" title="" data-original-title=" Refresh the page">
                              Refresh
                            </div>
                          </a>
                        </div>
                        </p>
                      </div>
                    </div>
                    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
                    <script type="text/javascript">
                      $body = $("body");
                      	   		$(".myButton").click(function(){
                      	   			var $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
                      	   		//	var canvasObj = document.getElementById("canvas");
                      	   		//	var img = canvasObj.toDataURL();
                      	   			var img="0";
                                {% if fname is defined and fname %}
                                var myVariable = {{ fname | tojson }};
                                {% endif %}
                      	   			$.ajax({
                      	   				type: "POST",
                      	   				url: $SCRIPT_ROOT + "/predict/",
                      	   				data: img,
                                  beforeSend: function() {
                                     $body.addClass("loading");
                                 },
                                 complete: function() {
                                     $body.removeClass("loading");
                                 },
                      	   				success: function(data){
                                    $('#res').show();
                      	   					$('#result').text(' Your hummed song is: '+data);
                      	   				}
                      	   			});
                      	   		});
                      
                      
                              $(".myButton4").click(function(){
                               var $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
                              // var canvasObj = document.getElementById("canvas");
                              // var img = canvasObj.toDataURL();
                               var img="0";
                               $.ajax({
                                 type: "POST",
                      
                                 beforeSend: function() {
                                    $body.addClass("loading2");
                                },
                                complete: function() {
                                    $body.removeClass("loading2");
                                },
                                 success: function(data){
                                   $('#result').text(' Your music is loaded');
                                 }
                               });
                             });
                      
                      
                      
                      
                      
                      	   		$(".myButton3").click(function(){
                      	   			var $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
                      	   		//	var canvasObj = document.getElementById("canvas");
                      	   		//	var img = canvasObj.toDataURL();
                      	   			var img="0";
                      
                      	   			$.ajax({
                      	   				type: "POST",
                      	   				url: $SCRIPT_ROOT + "/upload/",
                      	   				data: img,
                      	   				success: function(data){
                      	   					$('#result').text(' ');
                      	   				}
                      
                      	   			});
                      
                      	   		});
                      
                      
                      	   
                    </script>
                  </section>
                </section>
              </section>
              <!-- / side content -->
            </section>
            <a href="#" class="hide nav-off-screen-block" data-toggle="class:nav-off-screen,open" data-target="#nav,html"></a>
          </section>
        </section>
      </section>
    </section>
    <!-- Bootstrap --> <!-- App --> <script src="static/js/app.v1.js"></script> <script src="static/js/app.plugin.js"></script> <script type="text/javascript" src="static/js/jPlayer/jquery.jplayer.min.js"></script> <script type="text/javascript" src="static/js/jPlayer/add-on/jplayer.playlist.min.js"></script> <script type="text/javascript" src="static/js/jPlayer/demo.js"></script>
    
    <div id="loading" style="display:none;"><img src="/static/load2.gif" alt="" />Loading!</div>
    <div class="modal">
      <!-- Place at bottom of page -->
    </div>
    <div class="modal2">
      <!-- Place at bottom of page -->
    </div>
  </body>
</html>

